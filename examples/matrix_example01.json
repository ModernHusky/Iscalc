{
    "content": [
        {
            "conds": [
                {
                    "cond": "invertible(P)",
                    "latex_cond": "invertible{(P)}"
                },
                {
                    "cond": "n >= 0",
                    "latex_cond": "n \\ge 0"
                },
                {
                    "cond": "m >= 1",
                    "latex_cond": "m \\ge 1"
                }
            ],
            "finished": true,
            "fixes": [
                [
                    "n",
                    "$int"
                ],
                [
                    "m",
                    "$int"
                ],
                [
                    "P",
                    "$tensor($real, m, m)"
                ],
                [
                    "A",
                    "$tensor($real, m, m)"
                ]
            ],
            "goal": "(inv(P) * A * P) ^ n = inv(P) * A ^ n * P",
            "latex_goal": "(P ^ {-1} A P) ^ {n} = P ^ {-1} A ^ {n} P",
            "obligations": [
                {
                    "branches": [
                        {
                            "exprs": [
                                "inv(P) * A * P > 0"
                            ]
                        }
                    ],
                    "conds": [
                        {
                            "cond": "invertible(P)",
                            "latex_cond": "invertible{(P)}"
                        },
                        {
                            "cond": "n >= 0",
                            "latex_cond": "n \\ge 0"
                        },
                        {
                            "cond": "m >= 1",
                            "latex_cond": "m \\ge 1"
                        }
                    ]
                },
                {
                    "branches": [
                        {
                            "exprs": [
                                "isInt(n)"
                            ]
                        }
                    ],
                    "conds": [
                        {
                            "cond": "invertible(P)",
                            "latex_cond": "invertible{(P)}"
                        },
                        {
                            "cond": "n >= 0",
                            "latex_cond": "n \\ge 0"
                        },
                        {
                            "cond": "m >= 1",
                            "latex_cond": "m \\ge 1"
                        }
                    ]
                },
                {
                    "branches": [
                        {
                            "exprs": [
                                "n >= 0"
                            ]
                        }
                    ],
                    "conds": [
                        {
                            "cond": "invertible(P)",
                            "latex_cond": "invertible{(P)}"
                        },
                        {
                            "cond": "n >= 0",
                            "latex_cond": "n \\ge 0"
                        },
                        {
                            "cond": "m >= 1",
                            "latex_cond": "m \\ge 1"
                        }
                    ]
                },
                {
                    "branches": [
                        {
                            "exprs": [
                                "A > 0"
                            ]
                        }
                    ],
                    "conds": [
                        {
                            "cond": "invertible(P)",
                            "latex_cond": "invertible{(P)}"
                        },
                        {
                            "cond": "n >= 0",
                            "latex_cond": "n \\ge 0"
                        },
                        {
                            "cond": "m >= 1",
                            "latex_cond": "m \\ge 1"
                        }
                    ]
                },
                {
                    "branches": [
                        {
                            "exprs": [
                                "isInt(n)"
                            ]
                        }
                    ],
                    "conds": [
                        {
                            "cond": "invertible(P)",
                            "latex_cond": "invertible{(P)}"
                        },
                        {
                            "cond": "n >= 0",
                            "latex_cond": "n \\ge 0"
                        },
                        {
                            "cond": "m >= 1",
                            "latex_cond": "m \\ge 1"
                        }
                    ]
                },
                {
                    "branches": [
                        {
                            "exprs": [
                                "n >= 0"
                            ]
                        }
                    ],
                    "conds": [
                        {
                            "cond": "invertible(P)",
                            "latex_cond": "invertible{(P)}"
                        },
                        {
                            "cond": "n >= 0",
                            "latex_cond": "n \\ge 0"
                        },
                        {
                            "cond": "m >= 1",
                            "latex_cond": "m \\ge 1"
                        }
                    ]
                }
            ],
            "proof": {
                "base_case": {
                    "finished": true,
                    "fixes": [
                        [
                            "n",
                            "$int"
                        ],
                        [
                            "m",
                            "$int"
                        ],
                        [
                            "P",
                            "$tensor($real, m, m)"
                        ],
                        [
                            "A",
                            "$tensor($real, m, m)"
                        ],
                        [
                            "cosh",
                            "$fun($real, $real)"
                        ],
                        [
                            "sinh",
                            "$fun($real, $real)"
                        ],
                        [
                            "binom",
                            "$fun($real, $real, $real)"
                        ]
                    ],
                    "goal": "unit_matrix(m) = unit_matrix(m)",
                    "latex_goal": "\\mathbf{1}_{m \\times m} = \\mathbf{1}_{m \\times m}",
                    "proof": {
                        "calcs": [
                            {
                                "fixes": [],
                                "latex_start": "\\mathbf{1}_{m \\times m}",
                                "start": "unit_matrix(m)",
                                "steps": [],
                                "type": "Calculation"
                            },
                            {
                                "fixes": [],
                                "latex_start": "\\mathbf{1}_{m \\times m}",
                                "start": "unit_matrix(m)",
                                "steps": [],
                                "type": "Calculation"
                            }
                        ],
                        "finished": true,
                        "goal": "unit_matrix(m) = unit_matrix(m)",
                        "latex_goal": "\\mathbf{1}_{m \\times m} = \\mathbf{1}_{m \\times m}",
                        "type": "CalculationProof"
                    },
                    "type": "Goal"
                },
                "finished": true,
                "goal": "(inv(P) * A * P) ^ n = inv(P) * A ^ n * P",
                "induct_case": {
                    "finished": true,
                    "fixes": [
                        [
                            "n",
                            "$int"
                        ],
                        [
                            "m",
                            "$int"
                        ],
                        [
                            "P",
                            "$tensor($real, m, m)"
                        ],
                        [
                            "A",
                            "$tensor($real, m, m)"
                        ],
                        [
                            "cosh",
                            "$fun($real, $real)"
                        ],
                        [
                            "sinh",
                            "$fun($real, $real)"
                        ],
                        [
                            "binom",
                            "$fun($real, $real, $real)"
                        ]
                    ],
                    "goal": "(inv(P) * A * P) ^ (n + 1) = inv(P) * A ^ (n + 1) * P",
                    "latex_goal": "(P ^ {-1} A P) ^ {n + 1} = P ^ {-1} A ^ {n + 1} P",
                    "obligations": [
                        {
                            "branches": [
                                {
                                    "exprs": [
                                        "inv(P) * A * P > 0"
                                    ]
                                }
                            ],
                            "conds": [
                                {
                                    "cond": "invertible(P)",
                                    "latex_cond": "invertible{(P)}"
                                },
                                {
                                    "cond": "n >= 0",
                                    "latex_cond": "n \\ge 0"
                                },
                                {
                                    "cond": "m >= 1",
                                    "latex_cond": "m \\ge 1"
                                }
                            ]
                        },
                        {
                            "branches": [
                                {
                                    "exprs": [
                                        "isInt(n + 1)"
                                    ]
                                }
                            ],
                            "conds": [
                                {
                                    "cond": "invertible(P)",
                                    "latex_cond": "invertible{(P)}"
                                },
                                {
                                    "cond": "n >= 0",
                                    "latex_cond": "n \\ge 0"
                                },
                                {
                                    "cond": "m >= 1",
                                    "latex_cond": "m \\ge 1"
                                }
                            ]
                        },
                        {
                            "branches": [
                                {
                                    "exprs": [
                                        "n + 1 >= 0"
                                    ]
                                }
                            ],
                            "conds": [
                                {
                                    "cond": "invertible(P)",
                                    "latex_cond": "invertible{(P)}"
                                },
                                {
                                    "cond": "n >= 0",
                                    "latex_cond": "n \\ge 0"
                                },
                                {
                                    "cond": "m >= 1",
                                    "latex_cond": "m \\ge 1"
                                }
                            ]
                        },
                        {
                            "branches": [
                                {
                                    "exprs": [
                                        "A > 0"
                                    ]
                                }
                            ],
                            "conds": [
                                {
                                    "cond": "invertible(P)",
                                    "latex_cond": "invertible{(P)}"
                                },
                                {
                                    "cond": "n >= 0",
                                    "latex_cond": "n \\ge 0"
                                },
                                {
                                    "cond": "m >= 1",
                                    "latex_cond": "m \\ge 1"
                                }
                            ]
                        },
                        {
                            "branches": [
                                {
                                    "exprs": [
                                        "isInt(n + 1)"
                                    ]
                                }
                            ],
                            "conds": [
                                {
                                    "cond": "invertible(P)",
                                    "latex_cond": "invertible{(P)}"
                                },
                                {
                                    "cond": "n >= 0",
                                    "latex_cond": "n \\ge 0"
                                },
                                {
                                    "cond": "m >= 1",
                                    "latex_cond": "m \\ge 1"
                                }
                            ]
                        },
                        {
                            "branches": [
                                {
                                    "exprs": [
                                        "n + 1 >= 0"
                                    ]
                                }
                            ],
                            "conds": [
                                {
                                    "cond": "invertible(P)",
                                    "latex_cond": "invertible{(P)}"
                                },
                                {
                                    "cond": "n >= 0",
                                    "latex_cond": "n \\ge 0"
                                },
                                {
                                    "cond": "m >= 1",
                                    "latex_cond": "m \\ge 1"
                                }
                            ]
                        }
                    ],
                    "proof": {
                        "calcs": [
                            {
                                "fixes": [],
                                "latex_start": "(P ^ {-1} A P) ^ {n + 1}",
                                "start": "(inv(P) * A * P) ^ (n + 1)",
                                "steps": [
                                    {
                                        "latex_res": "(P ^ {-1} A P) ^ {n} (P ^ {-1} A P)",
                                        "res": "(inv(P) * A * P) ^ n * (inv(P) * A * P)",
                                        "rule": {
                                            "latex_str": "rewrite \\((P ^ {-1} A P) ^ {n + 1}\\) to \\((P ^ {-1} A P) ^ {n} (P ^ {-1} A P)\\) using identity",
                                            "name": "ApplyIdentity",
                                            "source": "(inv(P) * A * P) ^ (n + 1)",
                                            "str": "rewrite (inv(P) * A * P) ^ (n + 1) to (inv(P) * A * P) ^ n * (inv(P) * A * P) using identity",
                                            "target": "(inv(P) * A * P) ^ n * (inv(P) * A * P)"
                                        },
                                        "type": "CalculationStep"
                                    },
                                    {
                                        "latex_res": "P ^ {-1} A ^ {n} P (P ^ {-1} A P)",
                                        "res": "inv(P) * A ^ n * P * (inv(P) * A * P)",
                                        "rule": {
                                            "loc": "subterms",
                                            "name": "ApplyInductHyp",
                                            "str": "apply induction hypothesis on subterms"
                                        },
                                        "type": "CalculationStep"
                                    },
                                    {
                                        "latex_res": "P ^ {-1} A ^ {n} A P",
                                        "res": "inv(P) * A ^ n * A * P",
                                        "rule": {
                                            "name": "FullSimplify",
                                            "str": "full simplify"
                                        },
                                        "type": "CalculationStep"
                                    },
                                    {
                                        "latex_res": "P ^ {-1} (A ^ {n} A) P",
                                        "res": "inv(P) * (A ^ n * A) * P",
                                        "rule": {
                                            "latex_str": "rewriting \\(P ^ {-1} A ^ {n} A P\\) to \\(P ^ {-1} (A ^ {n} A) P\\)",
                                            "name": "Equation",
                                            "new_expr": "inv(P) * (A ^ n * A) * P",
                                            "old_expr": "inv(P) * A ^ n * A * P",
                                            "str": "rewriting inv(P) * A ^ n * A * P to inv(P) * (A ^ n * A) * P"
                                        },
                                        "type": "CalculationStep"
                                    },
                                    {
                                        "latex_res": "P ^ {-1} A ^ {n + 1} P",
                                        "res": "inv(P) * A ^ (n + 1) * P",
                                        "rule": {
                                            "latex_str": "rewrite \\(A ^ {n} A\\) to \\(A ^ {n + 1}\\) using identity",
                                            "name": "ApplyIdentity",
                                            "source": "A ^ n * A",
                                            "str": "rewrite A ^ n * A to A ^ (n + 1) using identity",
                                            "target": "A ^ (n + 1)"
                                        },
                                        "type": "CalculationStep"
                                    }
                                ],
                                "type": "Calculation"
                            },
                            {
                                "fixes": [],
                                "latex_start": "P ^ {-1} A ^ {n + 1} P",
                                "start": "inv(P) * A ^ (n + 1) * P",
                                "steps": [],
                                "type": "Calculation"
                            }
                        ],
                        "finished": true,
                        "goal": "(inv(P) * A * P) ^ (n + 1) = inv(P) * A ^ (n + 1) * P",
                        "latex_goal": "(P ^ {-1} A P) ^ {n + 1} = P ^ {-1} A ^ {n + 1} P",
                        "type": "CalculationProof"
                    },
                    "type": "Goal",
                    "wellformed": false
                },
                "induct_var": "n",
                "latex_goal": "(P ^ {-1} A P) ^ {n} = P ^ {-1} A ^ {n} P",
                "start": "0",
                "type": "InductionProof"
            },
            "type": "Goal",
            "wellformed": false
        },
        {
            "conds": [
                {
                    "cond": "invertible(B)",
                    "latex_cond": "invertible{(B)}"
                }
            ],
            "fixes": [
                [
                    "A",
                    "$tensor($real, 3, 3)"
                ],
                [
                    "B",
                    "$tensor($real, 3, 3)"
                ]
            ],
            "latex_start": "(B ^ {-1} A B) ^ {4}",
            "start": "(inv(B) * A * B) ^ 4",
            "steps": [
                {
                    "latex_res": "B ^ {-1} A ^ {4} B",
                    "res": "inv(B) * A ^ 4 * B",
                    "rule": {
                        "eq": "(inv(P) * A * P) ^ n = inv(P) * A ^ n * P",
                        "eq_fixes": [],
                        "latex_str": "apply equation \\((P ^ {-1} A P) ^ {n} = P ^ {-1} A ^ {n} P\\)",
                        "name": "ApplyEquation",
                        "source": "None",
                        "str": "apply equation: (inv(P) * A * P) ^ n = inv(P) * A ^ n * P"
                    },
                    "type": "CalculationStep"
                }
            ],
            "type": "Calculation"
        }
    ],
    "name": "matrix_example01"
}