{
    "content": [
        {
            "latex_var": "P",
            "type": "VarDef",
            "var": "matrix P[n][n]"
        },
        {
            "latex_var": "A",
            "type": "VarDef",
            "var": "matrix A[n][n]"
        },
        {
            "latex_var": "n",
            "type": "VarDef",
            "var": "int n"
        },
        {
            "expr": "invertible(P)",
            "latex_goal": "invertible{(P)}",
            "type": "Assumption"
        },
        {
            "expr": "n > 0",
            "latex_goal": "n > 0",
            "type": "Assumption"
        },
        {
            "finished": true,
            "goal": "(inv(P) * A * P) ^ n = inv(P) * A ^ n * P",
            "latex_goal": "(P ^ {-1} A P) ^ {n} = P ^ {-1} A ^ {n} P",
            "obligations": [
                {
                    "branches": [
                        {
                            "exprs": [
                                "inv(P) * A * P > 0"
                            ]
                        }
                    ],
                    "conds": [
                        {
                            "cond": "invertible(P)",
                            "latex_cond": "invertible{(P)}"
                        },
                        {
                            "cond": "n > 0",
                            "latex_cond": "n > 0"
                        }
                    ]
                },
                {
                    "branches": [
                        {
                            "exprs": [
                                "isInt(n)"
                            ]
                        }
                    ],
                    "conds": [
                        {
                            "cond": "invertible(P)",
                            "latex_cond": "invertible{(P)}"
                        },
                        {
                            "cond": "n > 0",
                            "latex_cond": "n > 0"
                        }
                    ]
                },
                {
                    "branches": [
                        {
                            "exprs": [
                                "n >= 0"
                            ]
                        }
                    ],
                    "conds": [
                        {
                            "cond": "invertible(P)",
                            "latex_cond": "invertible{(P)}"
                        },
                        {
                            "cond": "n > 0",
                            "latex_cond": "n > 0"
                        }
                    ]
                },
                {
                    "branches": [
                        {
                            "exprs": [
                                "A > 0"
                            ]
                        }
                    ],
                    "conds": [
                        {
                            "cond": "invertible(P)",
                            "latex_cond": "invertible{(P)}"
                        },
                        {
                            "cond": "n > 0",
                            "latex_cond": "n > 0"
                        }
                    ]
                },
                {
                    "branches": [
                        {
                            "exprs": [
                                "isInt(n)"
                            ]
                        }
                    ],
                    "conds": [
                        {
                            "cond": "invertible(P)",
                            "latex_cond": "invertible{(P)}"
                        },
                        {
                            "cond": "n > 0",
                            "latex_cond": "n > 0"
                        }
                    ]
                },
                {
                    "branches": [
                        {
                            "exprs": [
                                "n >= 0"
                            ]
                        }
                    ],
                    "conds": [
                        {
                            "cond": "invertible(P)",
                            "latex_cond": "invertible{(P)}"
                        },
                        {
                            "cond": "n > 0",
                            "latex_cond": "n > 0"
                        }
                    ]
                }
            ],
            "proof": {
                "base_case": {
                    "finished": true,
                    "goal": "unit_matrix(n) = unit_matrix(n)",
                    "latex_goal": "I_{n \\times n} = I_{n \\times n}",
                    "proof": {
                        "calcs": [
                            {
                                "latex_start": "I_{n \\times n}",
                                "start": "unit_matrix(n)",
                                "steps": [],
                                "type": "Calculation"
                            },
                            {
                                "latex_start": "I_{n \\times n}",
                                "start": "unit_matrix(n)",
                                "steps": [],
                                "type": "Calculation"
                            }
                        ],
                        "finished": true,
                        "goal": "unit_matrix(n) = unit_matrix(n)",
                        "latex_goal": "I_{n \\times n} = I_{n \\times n}",
                        "type": "CalculationProof"
                    },
                    "type": "Goal"
                },
                "finished": true,
                "goal": "(inv(P) * A * P) ^ n = inv(P) * A ^ n * P",
                "induct_case": {
                    "finished": true,
                    "goal": "(inv(matrix P[n][n]) * matrix A[n][n] * matrix P[n][n]) ^ (int n + 1) = inv(matrix P[n][n]) * matrix A[n][n] ^ (int n + 1) * matrix P[n][n]",
                    "latex_goal": "(P ^ {-1} A P) ^ {n + 1} = P ^ {-1} A ^ {n + 1} P",
                    "obligations": [
                        {
                            "branches": [
                                {
                                    "exprs": [
                                        "inv(matrix P[n][n]) * matrix A[n][n] * matrix P[n][n] > 0"
                                    ]
                                }
                            ],
                            "conds": [
                                {
                                    "cond": "invertible(P)",
                                    "latex_cond": "invertible{(P)}"
                                },
                                {
                                    "cond": "n > 0",
                                    "latex_cond": "n > 0"
                                }
                            ]
                        },
                        {
                            "branches": [
                                {
                                    "exprs": [
                                        "isInt(int n + 1)"
                                    ]
                                }
                            ],
                            "conds": [
                                {
                                    "cond": "invertible(P)",
                                    "latex_cond": "invertible{(P)}"
                                },
                                {
                                    "cond": "n > 0",
                                    "latex_cond": "n > 0"
                                }
                            ]
                        },
                        {
                            "branches": [
                                {
                                    "exprs": [
                                        "int n + 1 >= 0"
                                    ]
                                }
                            ],
                            "conds": [
                                {
                                    "cond": "invertible(P)",
                                    "latex_cond": "invertible{(P)}"
                                },
                                {
                                    "cond": "n > 0",
                                    "latex_cond": "n > 0"
                                }
                            ]
                        },
                        {
                            "branches": [
                                {
                                    "exprs": [
                                        "matrix A[n][n] > 0"
                                    ]
                                }
                            ],
                            "conds": [
                                {
                                    "cond": "invertible(P)",
                                    "latex_cond": "invertible{(P)}"
                                },
                                {
                                    "cond": "n > 0",
                                    "latex_cond": "n > 0"
                                }
                            ]
                        },
                        {
                            "branches": [
                                {
                                    "exprs": [
                                        "isInt(int n + 1)"
                                    ]
                                }
                            ],
                            "conds": [
                                {
                                    "cond": "invertible(P)",
                                    "latex_cond": "invertible{(P)}"
                                },
                                {
                                    "cond": "n > 0",
                                    "latex_cond": "n > 0"
                                }
                            ]
                        },
                        {
                            "branches": [
                                {
                                    "exprs": [
                                        "int n + 1 >= 0"
                                    ]
                                }
                            ],
                            "conds": [
                                {
                                    "cond": "invertible(P)",
                                    "latex_cond": "invertible{(P)}"
                                },
                                {
                                    "cond": "n > 0",
                                    "latex_cond": "n > 0"
                                }
                            ]
                        }
                    ],
                    "proof": {
                        "calcs": [
                            {
                                "latex_start": "(P ^ {-1} A P) ^ {n + 1}",
                                "start": "(inv(matrix P[n][n]) * matrix A[n][n] * matrix P[n][n]) ^ (int n + 1)",
                                "steps": [
                                    {
                                        "latex_res": "(P ^ {-1} A P) ^ {n} (P ^ {-1} A P)",
                                        "res": "(inv(matrix P[n][n]) * matrix A[n][n] * matrix P[n][n]) ^ int n * (inv(matrix P[n][n]) * matrix A[n][n] * matrix P[n][n])",
                                        "rule": {
                                            "latex_str": "rewrite \\((P ^ {-1} A P) ^ {n + 1}\\) to \\((P ^ {-1} A P) ^ {n} (P ^ {-1} A P)\\) using identity",
                                            "name": "ApplyIdentity",
                                            "source": "(inv(matrix P[n][n]) * matrix A[n][n] * matrix P[n][n]) ^ (int n + 1)",
                                            "str": "rewrite (inv(matrix P[n][n]) * matrix A[n][n] * matrix P[n][n]) ^ (int n + 1) to (inv(matrix P[n][n]) * matrix A[n][n] * matrix P[n][n]) ^ int n * (inv(matrix P[n][n]) * matrix A[n][n] * matrix P[n][n]) using identity",
                                            "target": "(inv(matrix P[n][n]) * matrix A[n][n] * matrix P[n][n]) ^ int n * (inv(matrix P[n][n]) * matrix A[n][n] * matrix P[n][n])"
                                        },
                                        "type": "CalculationStep"
                                    },
                                    {
                                        "latex_res": "P ^ {-1} A ^ {n} P (P ^ {-1} A P)",
                                        "res": "inv(matrix P[n][n]) * matrix A[n][n] ^ int n * matrix P[n][n] * (inv(matrix P[n][n]) * matrix A[n][n] * matrix P[n][n])",
                                        "rule": {
                                            "loc": "subterms",
                                            "name": "ApplyInductHyp",
                                            "str": "apply induction hypothesis on subterms"
                                        },
                                        "type": "CalculationStep"
                                    },
                                    {
                                        "latex_res": "P ^ {-1} A ^ {n} A P",
                                        "res": "inv(matrix P[n][n]) * matrix A[n][n] ^ int n * matrix A[n][n] * matrix P[n][n]",
                                        "rule": {
                                            "name": "FullSimplify",
                                            "str": "full simplify"
                                        },
                                        "type": "CalculationStep"
                                    },
                                    {
                                        "latex_res": "P ^ {-1} (A ^ {n} A) P",
                                        "res": "inv(matrix P[n][n]) * (matrix A[n][n] ^ int n * matrix A[n][n]) * matrix P[n][n]",
                                        "rule": {
                                            "latex_str": "rewriting \\(P ^ {-1} A ^ {n} A P\\) to \\(P ^ {-1} (A ^ {n} A) P\\)",
                                            "name": "Equation",
                                            "new_expr": "inv(matrix P[n][n]) * (matrix A[n][n] ^ int n * matrix A[n][n]) * matrix P[n][n]",
                                            "old_expr": "inv(matrix P[n][n]) * matrix A[n][n] ^ int n * matrix A[n][n] * matrix P[n][n]",
                                            "str": "rewriting inv(matrix P[n][n]) * matrix A[n][n] ^ int n * matrix A[n][n] * matrix P[n][n] to inv(matrix P[n][n]) * (matrix A[n][n] ^ int n * matrix A[n][n]) * matrix P[n][n]"
                                        },
                                        "type": "CalculationStep"
                                    },
                                    {
                                        "latex_res": "P ^ {-1} A ^ {n + 1} P",
                                        "res": "inv(matrix P[n][n]) * matrix A[n][n] ^ (int n + 1) * matrix P[n][n]",
                                        "rule": {
                                            "latex_str": "rewrite \\(A ^ {n} A\\) to \\(A ^ {n + 1}\\) using identity",
                                            "name": "ApplyIdentity",
                                            "source": "matrix A[n][n] ^ int n * matrix A[n][n]",
                                            "str": "rewrite matrix A[n][n] ^ int n * matrix A[n][n] to matrix A[n][n] ^ (int n + 1) using identity",
                                            "target": "matrix A[n][n] ^ (int n + 1)"
                                        },
                                        "type": "CalculationStep"
                                    }
                                ],
                                "type": "Calculation"
                            },
                            {
                                "latex_start": "P ^ {-1} A ^ {n + 1} P",
                                "start": "inv(matrix P[n][n]) * matrix A[n][n] ^ (int n + 1) * matrix P[n][n]",
                                "steps": [],
                                "type": "Calculation"
                            }
                        ],
                        "finished": true,
                        "goal": "(inv(matrix P[n][n]) * matrix A[n][n] * matrix P[n][n]) ^ (int n + 1) = inv(matrix P[n][n]) * matrix A[n][n] ^ (int n + 1) * matrix P[n][n]",
                        "latex_goal": "(P ^ {-1} A P) ^ {n + 1} = P ^ {-1} A ^ {n + 1} P",
                        "type": "CalculationProof"
                    },
                    "type": "Goal",
                    "wellformed": false
                },
                "induct_var": "n",
                "latex_goal": "(P ^ {-1} A P) ^ {n} = P ^ {-1} A ^ {n} P",
                "type": "InductionProof"
            },
            "type": "Goal",
            "wellformed": false
        }
    ],
    "name": "matrix_example01"
}